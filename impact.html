<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Impact Stories | AdeaPmd CareerConnect</title>

<style>
:root {
  --primary: #c0392b;
  --secondary: #f39c12;
  --dark: #2c3e50;
  --gray: #ecf0f1;
}
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: "Segoe UI", Arial, sans-serif; background: var(--gray); color: #333; }

/* NAV */
nav {
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  padding: 15px 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
nav .logo { color: #fff; font-size: 24px; font-weight: bold; }
nav ul { list-style: none; display:flex; gap:25px; }
nav ul li a { color:#fff; text-decoration:none; font-weight:600; }

/* HERO */
.hero {
  background-image: url("./image/pmd.jpg");
  background-size: cover;
  min-height: 100vh;
  color: #fff;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  text-align:center;
}

/* MAIN */
main { padding: 50px 20px; max-width: 1200px; margin:auto; }
.grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(300px,1fr)); gap:30px; }

.card {
  background:#fff;
  border-radius:20px;
  overflow:hidden;
  box-shadow:0 12px 30px rgba(0,0,0,0.1);
  animation: fadeUp 0.6s forwards;
}
.card img {
  width:100%;
  height:200px;
  object-fit:cover;
}
.card-content { padding:20px; }
.card-content h3 { color: var(--primary); }
.meta { font-size:13px; color:#777; margin-top:8px; }

.empty {
  text-align:center;
  font-size:18px;
  color:#777;
  grid-column:1/-1;
}

footer {
  background: var(--dark);
  color:#fff;
  text-align:center;
  padding:25px;
}

@keyframes fadeUp {
  from { opacity:0; transform:translateY(30px); }
  to { opacity:1; transform:translateY(0); }
}
</style>
</head>

<body>

<nav>
  <div class="logo">AdeaPmd CareerConnect</div>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="#">Impact Stories</a></li>
  </ul>
</nav>

<div class="hero">
  <h1>Behind Every Smile: Impact Stories</h1>
  <p>Showcasing the success and journeys of our graduates.</p>
</div>

<main>
  <h2>ðŸŒŸ Real Stories from Our Graduates</h2>
  <div class="grid" id="storiesGrid">
    <p class="empty">Loading stories...</p>
  </div>
</main>

<footer>
  Â© 2026 AdeaPmd CareerConnect
</footer>

<script>
const container = document.getElementById("storiesGrid");

// ðŸ”´ CHANGE THIS TO YOUR REAL BACKEND URL
const BACKEND_URL = "https://adeaadmin.onrender.com/admin";

fetch(`${BACKEND_URL}/api/posts`)
  .then(res => {
    if (!res.ok) throw new Error("Failed to fetch");
    return res.json();
  })
  .then(posts => {
    container.innerHTML = "";

    if (!posts || posts.length === 0) {
      container.innerHTML = "<p class='empty'>No stories posted yet.</p>";
      return;
    }

    posts.forEach(post => {
      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `
        ${post.media ? `<img src="${BACKEND_URL}${post.media}" alt="Story Image">` : ""}
        <div class="card-content">
          <h3>${post.title || "Untitled Story"}</h3>
          <p>${post.content ? post.content.substring(0,150) : ""}...</p>
          <div class="meta">${post.type || "General"} â€¢ ${post.date || ""}</div>
        </div>
      `;

      container.appendChild(card);
    });
  })
  .catch(err => {
    console.error(err);
    container.innerHTML = "<p class='empty'>Failed to load stories.</p>";
  });
</script>

</body>
</html>